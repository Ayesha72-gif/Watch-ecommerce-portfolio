{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>All Orders</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Birthstone&family=Fleur+De+Leah&family=Italianno&family=Rouge+Script&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{% static 'style.css' %}">

    <style>
        body{
            background: #f8f9fa;
            font-family: "Segoe UI", sans-serif;
            padding: 40px 15px;
        }
        .admin_orders{
            margin-top: 100px;
        }

        /* Heading */
        .main-title{
            text-align: center;
            font-size: 32px;
            font-weight: 700;
            color: #111;
        }

        .main-title span{
            color: #e63946;
        }

        .sub-title{
            text-align: center;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 30px;
            color: #333;
        }

        /* Wrapper */
        .orders-wrapper{
            max-width: 1100px;
            margin: auto;
            background: #fff;
            padding: 10px;
            border-radius: 2px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            overflow-x: auto;      /* IMPORTANT for mobile responsiveness */
        }

        /* Table */
        table{
            width: 100%;
            border-collapse: collapse;
            min-width: 900px; /* Prevents table breaking on small screens */
        }

        thead{
            background: #111;
            color: white;
           
        }

        thead th{
            padding: 12px;
            font-size: 15px;
            font-weight: 600;
        }

        tbody tr{
            border-bottom: 1px solid #e5e5e5;
        }

        tbody td{
            padding: 12px;
            font-size: 15px;
            color: #333;
        }

        tbody tr:hover{
            background: #f0f0f0;
            transition: 0.2s;
        }

        /* View Button */
        .view-btn{
            padding: 8px 20px;
            background: #e63946;
            color: #fff !important;
            text-decoration: none;
            font-size: 14px;
            border-radius: 2px;
        }

        .view-btn:hover{
            background: #c71220;
        }

        /* RESPONSIVE FIXES */
        @media (max-width: 768px){
            body{
                padding: 20px 10px;
            }

            .main-title{
                font-size: 26px;
            }

            .sub-title{
                font-size: 18px;
            }

            .orders-wrapper{
                padding: 15px;
            }

            table{
                min-width: 500px;
            }
        }

        @media (max-width: 480px){
            .main-title{
                font-size: 22px;
            }
            .sub-title{
                font-size: 16px;
            }
        }

    </style>
</head>
<body>
    {% include 'navbar_top.html' %}
{% include 'main_navbar.html' %}
{% include 'items_nav.html' %}
<section class="admin_orders">   
    <h2 class="main-title">TIME <span>ZONE</span></h2>
    <h3 class="sub-title">All Orders You've Received</h3>

    <div class="orders-wrapper">

        <!-- Responsive scrollable table container -->
        <div class="table-responsive">
            <table>
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>User</th>
                        <th>Total</th>
                        <th>Date</th>
                        <th>Action</th>
                    </tr>
                </thead>

                <tbody>
                    {% for order in orders %}
                    <tr>
                        <td>{{ order.id }}</td>
                        <td>
                            {% if order.user %}
                            {{ order.user.username }}
                            {% else %}
                            Guest
                            {% endif %}
                        </td>
                        <td>Rs. {{ order.total_price }}</td>
                        <td>{{ order.created_at|date:"d-m-Y"}}</td>
                        <td><a class="view-btn" href="{% url 'admin_order_detail' order.id %}">View</a></td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="5" class="text-center">No orders found.</td>
                    </tr>
                    {% endfor %}
                </tbody>

            </table>
        </div>

    </div>
</section>
{% include 'footer.html' %}
</body>
</html>
